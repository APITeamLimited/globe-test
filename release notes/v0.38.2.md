k6 v0.38.2 is a patch release containing a couple of bugfixes!

### Threshold over sub-metrics without samples would result in `NaN` ([#2520](https://github.com/grafana/k6/issues/2520))

There was a bug in thresholds applied to sub-metrics set to `abortOnFail` that would lead to their result being `NaN` rather than a numerical value. The following script, for instance:

```javascript
import ***REMOVED*** check, sleep ***REMOVED*** from 'k6';

import http from 'k6/http';

export const options = ***REMOVED***
  scenarios: ***REMOVED***
    iWillFail: ***REMOVED***
      exec: 'iWillFail',
      executor: 'constant-vus',
      startTime: '2s',
      vus: 1,
      duration: '30s',
    ***REMOVED***,
  ***REMOVED***,

  thresholds: ***REMOVED***
    'checks***REMOVED***type:read***REMOVED***': [***REMOVED*** threshold: 'rate>0.9', abortOnFail: true ***REMOVED***],
  ***REMOVED***,
***REMOVED***;

export function iWillFail() ***REMOVED***
  let res = http.get(`https://test-api.k6.io/`);

  check(res, ***REMOVED***
    'read status is 200': (r) => r.status === 200,
  ***REMOVED***, ***REMOVED*** type: 'read' ***REMOVED***);

  sleep(1);
***REMOVED***
```


Would result in the following:

```
✗ ***REMOVED*** type:read ***REMOVED***...: NaN% ✓ 0 ✗ 0  
vus...............: 0 min=0 max=0
vus_max...........: 1 min=1 max=1
```

This issue was introduced by recent changes to how we handle thresholds in the k6 engine and is now addressed in `v0.38.2`.

### Sub-metrics without values rendered below an incorrect parent metric ([#2518](https://github.com/grafana/k6/issues/2518))

There was in how thresholds over sub-metrics that didn't receive any samples would be displayed under an incorrect parent metric. For instance, the following script:

```javascript
import ***REMOVED*** Counter ***REMOVED*** from 'k6/metrics';

const counter1 = new Counter("one");
const counter2 = new Counter("two");

export const options = ***REMOVED***
    thresholds: ***REMOVED***
        'one***REMOVED***tag:xyz***REMOVED***': [],
    ***REMOVED***,
***REMOVED***;

export default function() ***REMOVED***
    console.log('not submitting metric1');
    counter2.add(42);
***REMOVED***
```

Would have led to the following output, where the ***REMOVED***tag:xyz***REMOVED*** sub-metric is displayed under `iterations` instead of `one`:

```
data_received........: 0 B 0 B/s
data_sent............: 0 B 0 B/s
iteration_duration...: avg=0s min=0s med=0s max=0s p(90)=0s p(95)=0s
iterations...........: 1 499.950005/s
  ***REMOVED*** tag:xyz ***REMOVED***........: 0 0/s
two..................: 42 20997.90021/s
```

When we would have expected it to produce:

```
one..................: 0 0/s
  ***REMOVED*** tag:xyz ***REMOVED***........: 0 0/s
two..................: 42
```

This issue has been addressed in [#2519](https://github.com/grafana/k6/pull/2519), and k6 `v0.38.2` now displays sub-metrics under their actual parents, even when they have received no samples.


Special thanks to @efdknittlfrank, who reported and helped us track down the issue.